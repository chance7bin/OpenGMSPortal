<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Create Computable Model | OpenGMS</title>


    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/base/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/base/font-awesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/base/fabric/fabric.min.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/base/style.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/other/jquery-steps.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/jquery-ui-1.12.1/jquery-ui.min.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/iCheck/skins/flat/green.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/other/modelItemEditor.css"/>
    <link rel="stylesheet" href="/static/css/components/file-manager.css">
    <link rel="stylesheet" href="/static/css/other/page.css">

    <!--    <link rel="stylesheet" type="text/css" media="screen" href="/static/css/page/create-conceptual-model.css"/>-->
    <link rel="stylesheet" type="text/css" media="screen" href="/static/lib/element-ui/theme-chalk/index.css"/>
    <link rel="stylesheet" href="/static/css/base/universal.css">
    <link rel="stylesheet" type="text/css" href="/static/css/page/user_space.css">
    <link rel="stylesheet" href="/static/css/module/newSideBar.css">
    <style>
        label {
            font-size: 14px;
        }

        .el-radio__label {
            font-size: 16px;
        }
    </style>


    <script src="/static/js/common/jquery-3.3.1.min.js"></script>

    <script type="text/javascript" src="/static/js/common/pageEn.js"></script>
    <script type="text/javascript" src="/static/js/common/resetTree.js"></script>

</head>

<body class="scrollbar">
<div id="app">
    <div id="loading" v-if="load">
        <div class="loading-center">
            <div class="loading-center-absolute">
                <div class="object"></div>
            </div>
        </div>
    </div>
    <div class="page-container" style="height: 2000px">
        <head-side-bar :user-infoin-parent="userInfo"></head-side-bar>
        <template id="createComputableModel" th:fragment="createComputableModel">
            <div class="innerShadowCol">
                <div class="page-content clearfix scrollbar el-col-lg-21 el-col-md-20 pageContent acrylicBack"
                     style="margin-left: 240px;overflow-x: hidden"
                     :style="{'height':ScreenMinHeight,'min-height':ScreenMinHeight,'max-height':ScreenMaxHeight}"
                     id="pageContent">
                    <section role="description" class="flexJustBetween flexColCenter contentSection"
                             style="max-width: 100%;margin: 15px 10px;">
                        <div class="flexRowContainer flexColCenter" style="margin-left: 18px">
                            <img class="square_40" style="margin-top: 10px" src="../../../static/img/model/model.png">
                            <h3 style="margin-left: 10px"><a class="itemTitle"
                                                             href="/user/userSpace#/model">{{htmlJson.Model}} </a><span
                                    id="subRteTitle"></span></h3>
                        </div>
                        <draft-box ref="draftBox"
                                   @insert-draft="insertDraft"
                                   @get-draft="getDraft"
                                   @get-content="getItemContent"
                                   @draft-jump="draftJump"
                                   :item-type="'computableModel'"></draft-box>
                    </section>
                    <div class="page-content-wrap container-fluid">
                        <div class="row">
                            <div class="col-md-12 nopadding">
                                <div class="panel panel-success" style="border: none">
                                    <div class="panel-body">
                                        <div id="step">
                                            <div class="step-app">
                                                <ul class="step-steps text-center">
                                                    <li>
                                                        <a href="#step1">{{htmlJson.BasicInfo}}</a>
                                                    </li>
                                                    <li>
                                                        <a href="#step2">{{htmlJson.Resource}}</a>
                                                    </li>
                                                    <li>
                                                        <a href="#step3">{{htmlJson.Content}}</a>
                                                    </li>
                                                    <li>
                                                        <a href="#step4">{{htmlJson.Authorship}}</a>
                                                    </li>
                                                </ul>
                                                <div class="step-content">
                                                    <div class="step-tab-panel" id="step1">

                                                        <div class="form-group" style="margin-top:50px">
                                                            <label data-original-title="Tooltip on top"
                                                                   class="control-label col-lg-2 col-md-3 col-md-offset-2 tooltips"
                                                                   data-toggle="tooltip" data-placement="top" title="">
                                                                <span class="xing">* </span>{{htmlJson.Status}}
                                                            </label>
                                                            <div class="input-group col-md-5">
                                                                <el-radio-group v-model="itemInfo.status"
                                                                                size="medium">
                                                                    <el-tooltip popper-class="fontsize-15"
                                                                                effect="light"
                                                                                :content="htmlJson.Public.content"
                                                                                placement="top">
                                                                        <el-radio-button
                                                                                label="Public">{{htmlJson.Public.label}}</el-radio-button>
                                                                    </el-tooltip>
                                                                    <el-tooltip popper-class="fontsize-15" class="item"
                                                                                effect="light"
                                                                                :content="htmlJson.Discoverable.content"
                                                                                placement="top">
                                                                        <el-radio-button
                                                                                label="Discoverable">{{htmlJson.Discoverable.label}}</el-radio-button>
                                                                    </el-tooltip>
                                                                    <el-tooltip popper-class="fontsize-15" class="item"
                                                                                effect="light"
                                                                                :content="htmlJson.Private.content"
                                                                                placement="top">
                                                                        <el-radio-button
                                                                                label="Private">{{htmlJson.Private.label}}</el-radio-button>
                                                                    </el-tooltip>

                                                                </el-radio-group>

                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label data-original-title="Tooltip on top"
                                                                   class="control-label col-lg-2 col-md-3 col-md-offset-2 tooltips"
                                                                   data-toggle="tooltip" data-placement="top" title="">
                                                                <span class="xing">* </span>{{htmlJson.BindModelItem}}
                                                            </label>
                                                            <div class="input-group col-md-5">

                                                                <el-button type="primary" @click="openModelItemDialog()"
                                                                           style="margin-right:10px">{{htmlJson.Select}}
                                                                </el-button>
                                                                {{itemInfo.relateModelItemName}}
                                                            </div>
                                                        </div>


                                                        <div class="form-group">
                                                            <label class="control-label col-lg-2 col-md-3 col-md-offset-2">
                                                                <span class="xing">* </span>{{htmlJson.Name}}
                                                            </label>
                                                            <div class="input-group col-md-5">
                                                                <input type="text" class="form-control"
                                                                       v-model="itemInfo.name"
                                                                       @input="onInputName">
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label class="control-label col-lg-2 col-md-3 col-md-offset-2">
                                                                <span class="xing">* </span>{{htmlJson.Overview}}
                                                            </label>
                                                            <div class="input-group col-md-5">
                                                        <textarea class="form-control" id="descInput"
                                                                  v-model="itemInfo.description"></textarea>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label class="control-label col-lg-2 col-md-3 col-md-offset-2"><span style="margin-left: 21px;">{{htmlJson.Image}}</span></label>
                                                            <div class="input-group col-md-5">

                                                                <img-upload style="width: 100px;height: 100px"
                                                                            ref="imgUpload"
                                                                            @get-img-content="getImgContent"
                                                                ></img-upload>
                                                                <!--                                                                                        <input id="imgFile" type="file"-->
                                                                <!--                                                                                               style="display: none"-->
                                                                <!--                                                                                               accept="image/*"/>-->
                                                            </div>
                                                        </div>

                                                        <div class="form-group" style="margin-top:10px">
                                                            <label class="control-label col-lg-2 col-md-3 col-md-offset-2">
                                                                <span class="xing">* </span>{{htmlJson.ContentType}}
                                                            </label>
                                                            <div class="input-group col-md-5"
                                                                 style="padding:5px 0;font-size:20px">

                                                                <el-radio-group v-model="itemInfo.contentType"
                                                                                @change="contentTypeChange">
                                                                    <el-tooltip class="item" effect="light"
                                                                                content="Using a OpenGMS Model-Service Package to create model service."
                                                                                placement="right">
                                                                        <el-radio style="margin-bottom:10px;"
                                                                                  label="Package">{{htmlJson.OpenGMSModelServicePackage}}
                                                                        </el-radio>
                                                                    </el-tooltip>
                                                                    <br/>
                                                                    <el-tooltip class="item" effect="light"
                                                                                content="Using a deployed OpenGMS Model-Service Package's MD5 to create model service"
                                                                                placement="right">
                                                                        <el-radio style="margin-bottom:10px;"
                                                                                  label="MD5">{{htmlJson.OpenGMSPackageTag}}
                                                                        </el-radio>
                                                                    </el-tooltip>
                                                                    <br/>
                                                                    <el-tooltip class="item" effect="light"
                                                                                content="I have the model's source code."
                                                                                placement="right">
                                                                        <el-radio style="margin-bottom:10px;"
                                                                                  label="Code">{{htmlJson.SourceCode}}
                                                                        </el-radio>
                                                                    </el-tooltip>
                                                                    <br/>
                                                                    <el-tooltip class="item" effect="light"
                                                                                content="I have the model's executable library."
                                                                                placement="right">
                                                                        <el-radio style="margin-bottom:10px;"
                                                                                  label="Library">{{htmlJson.ExecutableLibrary}}
                                                                        </el-radio>
                                                                    </el-tooltip>
                                                                    <br/>
                                                                    <el-tooltip class="item" effect="light"
                                                                                content="The model have been deployed at third-party website as a service."
                                                                                placement="right">
                                                                        <el-radio style="margin-bottom:10px;"
                                                                                  label="Service">{{htmlJson.ThirdPartyWebServiceLink}}
                                                                        </el-radio>
                                                                    </el-tooltip>
                                                                    <br/>
                                                                    <el-tooltip class="item" effect="light"
                                                                                content="The model can be downloaded at third-party website."
                                                                                placement="right">
                                                                        <el-radio style="margin-bottom:10px;"
                                                                                  label="Link">{{htmlJson.DownloadableLink}}
                                                                        </el-radio>
                                                                    </el-tooltip>
                                                                </el-radio-group>

                                                                <!--<label style="margin-right: 20px; font-size: 20px">-->
                                                                <!--<input type="radio" name="ContentType"-->
                                                                <!--value="Package"-->
                                                                <!--checked="checked"/>-->
                                                                <!--<label style="float:left; margin-left: 5px;">Model Service Package</label>-->
                                                                <!--</label>-->
                                                                <!--<label style="margin-right: 20px; font-size: 20px">-->
                                                                <!--<input type="radio" name="ContentType"-->
                                                                <!--value="Code"/>-->
                                                                <!--<label style="float:left; margin-left: 5px;">Source Code</label>-->
                                                                <!--</label>-->
                                                                <!--<label style="margin-right: 20px; font-size: 20px">-->
                                                                <!--<input type="radio" name="ContentType"-->
                                                                <!--value="Library"/>-->
                                                                <!--<label style="float:left; margin-left: 5px;">Library</label>-->
                                                                <!--</label>-->
                                                                <!--<br/>-->

                                                                <!--<label style="margin-right: 20px; font-size: 20px">-->
                                                                <!--<input type="radio" name="ContentType"-->
                                                                <!--value="Service"/>-->
                                                                <!--<label style="float:left; margin-left: 5px;">Service URL</label>-->
                                                                <!--</label>-->
                                                                <!--<label style="margin-right: 20px; font-size: 20px">-->
                                                                <!--<input type="radio" name="ContentType"-->
                                                                <!--value="Link"/>-->
                                                                <!--<label style="float:left; margin-left: 5px;">Link</label>-->
                                                                <!--</label>-->
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="step-tab-panel" id="step2">
                                                        <div id="URL" class="clearfix"
                                                             style="margin-top:50px"
                                                             v-if="itemInfo.contentType=='Link'||itemInfo.contentType=='Service'">
                                                            <div class="form-group">
                                                                <label for="URL_text"
                                                                       class="control-label col-md-4 col-md-offset-2">Please
                                                                    enter computable model's URL:</label>
                                                                <div class="col-sm-8 col-md-offset-2">
                                                                    <textarea id="URL_text" class="form-control"
                                                                              placeholder="( http://www.example.com/model )"
                                                                              v-model="itemInfo.url"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="MD5" class="clearfix" style="margin-top:50px"
                                                             v-if="itemInfo.contentType=='MD5'">
                                                            <div class="form-group">
                                                                <label class="control-label col-md-8 col-md-offset-2"
                                                                       style="padding: 10px 15px;">
                                                                    Please enter the MD5 of the openGMS wrapper
                                                                    package:</label>
                                                                <div class="col-sm-8 col-md-offset-2">
                                                                    <el-input id="MD5_text"
                                                                              v-model="itemInfo.md5"
                                                                              @change="inputMd5"
                                                                              @keyup.enter="getServiceByMd5">
                                                                        <el-button slot="append"
                                                                                   @click="checkMd5Deployed">Check
                                                                            Deployed
                                                                        </el-button>
                                                                    </el-input>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-8 col-md-offset-2"
                                                                       style="padding: 10px 15px;">
                                                                    Please enter the MDL of the openGMS wrapper
                                                                    package:</label>
                                                                <div class="col-sm-8 col-md-offset-2">
                                                                    <el-input id="MD5_text" type="textarea" :rows="3"
                                                                              v-model="itemInfo.mdl"
                                                                              @change="inputMd5"
                                                                              @keyup.enter="getServiceByMd5">
                                                                    </el-input>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="control-label col-md-8 col-md-offset-2"
                                                                       style="padding: 10px 15px;">
                                                                    Please enter the Page Config of the openGMS wrapper
                                                                    package:</label>
                                                                <div class="col-sm-8 col-md-offset-2">
                                                                    <el-input id="MD5_text" type="textarea" :rows="3"
                                                                              v-model="itemInfo.pageConfig"
                                                                              >
                                                                    </el-input>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="Files" style="" class="flexRow flexWrap"
                                                             v-if="itemInfo.contentType=='Package'||itemInfo.contentType=='Code'||itemInfo.contentType=='Library'">
                                                            <div style="flex: 1;margin-left: 5px">
                                                                <h5 style="font-weight: 500;flex: 1;min-width: 400px">
                                                                    {{htmlJson.UploadYourPackage}}:</h5>
                                                                <el-button
                                                                        v-if="(resources.length==0&&itemInfo.contentType=='Package')||itemInfo.contentType!='Package'"
                                                                        type="primary"
                                                                        @click="addFile()">+ {{htmlJson.authorshipPart.Add}}
                                                                </el-button>
                                                                <el-button v-if="resources.length!=0" type="danger"
                                                                           @click="removeFile()">- {{htmlJson.Remove}}
                                                                </el-button>
                                                                <el-button
                                                                        v-if="resources.length!=0&&itemInfo.contentType=='Package'"
                                                                        type="success"
                                                                        @click="replaceFile()">{{htmlJson.Replace}}
                                                                </el-button>

                                                                <el-card :body-style="{ padding:'9px'}"
                                                                         style="margin-top: 10px">
                                                                    <span><i class="el-icon-document"></i>&nbsp&nbsp {{htmlJson.Content}}</span>
                                                                </el-card>


                                                                <el-card style="height: 300px;overflow-y:auto"
                                                                         id="browsercont" class="filecontent">

                                                                    <div @click="resClick"
                                                                         v-for="(resource, index) in resources">
                                                                        <!--</el-row>-->
                                                                        <el-card style="width:10%;cursor:pointer;"
                                                                                 :key="index"
                                                                                 :align="index"
                                                                                 :title="resource.name"
                                                                                 class="dataitemisol"
                                                                                 shadow="never">

                                                                            <el-row>
                                                                                <el-col :span="6">&nbsp</el-col>
                                                                                <el-col :span="12"><a><img
                                                                                        :src="'/static/img/filebrowser/'+resource.suffix+'.svg'"
                                                                                        onerror="this.onerror='';src='/static/img/filebrowser/unknow.svg'"
                                                                                        style="height: 60%;width:100%"></a>
                                                                                </el-col>
                                                                                <el-col :span="6">&nbsp</el-col>
                                                                            </el-row>
                                                                            <el-row style="height: 45px;">
                                                                                <el-col :span="20">

                                                                                    <p style="overflow: hidden;word-wrap: break-word;word-break: break-all;text-align: center;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;line-height: 1.5"
                                                                                    >{{resource.name}}</p>
                                                                                </el-col>
                                                                                <el-col :span="2">&nbsp</el-col>

                                                                            </el-row>

                                                                            <!--menu item -->


                                                                        </el-card>

                                                                    </div>
                                                                </el-card>

                                                                <input id="file" type="file" style="display: none;"
                                                                       accept="application/x-zip-compressed"/>

                                                                <input id="file_multi" type="file"
                                                                       style="display: none;" multiple="multiple"/>
                                                            </div>
                                                            <!--                                                            <div style="flex: 1.5;margin-left: 5px">-->
                                                            <!--                                                                <el-card class="wzhScrollbar"-->
                                                            <!--                                                                         style="margin-top: 60px;height: 340px;min-width: 400px">-->
                                                            <!--                                                                    <div class="col-sm-12 col-md-6 col-lg-6"-->
                                                            <!--                                                                         v-if="publicModelContainerList.length!=0"-->
                                                            <!--                                                                         v-for="(container,index) in publicModelContainerList">-->
                                                            <!--                                                                        <el-card class="box-card serverCard"-->
                                                            <!--                                                                                 :class="container.status?'cursorPointer':''"-->
                                                            <!--                                                                                 :style="container.ip==itemInfo.modelserUrl.split(':')[0]?'border-top:8px solid #36c94f':''"-->
                                                            <!--                                                                                 @click.native="selectModelServer(container)"-->
                                                            <!--                                                                        >-->
                                                            <!--                                                                            <div class="content">-->
                                                            <!--                                                                                <div class="clearfix">-->
                                                            <!--                                                                                    <div class="pull-left">-->
                                                            <!--                                                                                        <h4>-->
                                                            <!--                                                                                            {{container.hardware.hostName}}-->

                                                            <!--                                                                                        </h4>-->
                                                            <!--                                                                                        <p style="margin-bottom:5px">-->
                                                            <!--                                                                                            {{container.hardware.system}}-->
                                                            <!--                                                                                            {{container.hardware.version}}</p>-->
                                                            <!--                                                                                        <p>{{container.hardware.cpu_Core}}-->
                                                            <!--                                                                                            Core - -->
                                                            <!--                                                                                            {{container.hardware.totalMemory}}-->
                                                            <!--                                                                                            RAM - -->
                                                            <!--                                                                                            {{container.hardware.diskAll}}-->
                                                            <!--                                                                                            Hard Disk</p>-->
                                                            <!--                                                                                    </div>-->
                                                            <!--                                                                                </div>-->
                                                            <!--                                                                                <div class="clearfix"-->
                                                            <!--                                                                                     style="margin-top:10px">-->
                                                            <!--                                                                                    <div class="serverStatus pull-left"-->
                                                            <!--                                                                                         v-if="container.status">-->
                                                            <!--                                                                                        <span style="background: #6FCE7F;display:inline-block;width:10px;height:10px;border-radius: 50%;"></span>-->
                                                            <!--                                                                                        Running-->
                                                            <!--                                                                                    </div>-->
                                                            <!--                                                                                    <div class="serverStatus pull-left"-->
                                                            <!--                                                                                         v-else>-->
                                                            <!--                                                                                        <span style="background: #929994;display:inline-block;width:10px;height:10px;border-radius: 50%;"></span>-->
                                                            <!--                                                                                        Offline-->
                                                            <!--                                                                                    </div>-->
                                                            <!--                                                                                </div>-->
                                                            <!--                                                                            </div>-->
                                                            <!--                                                                        </el-card>-->
                                                            <!--                                                                    </div>-->
                                                            <!--                                                                </el-card>-->
                                                            <!--                                                            </div>-->
                                                        </div>
                                                    </div>
                                                    <div class="step-tab-panel" id="step3">
                                                        <textarea id="computableModelText"></textarea>
                                                    </div>
                                                    <div class="step-tab-panel" id="step4">
                                                        <div class="panel panel-success" style="border:none">

                                                            <div class="panel-body">
                                                                <div class="col-md-10 col-md-offset-1">

                                                                    <div class="panel-group " id="accordion2">
                                                                        <div id="providersPanel" class="panel"
                                                                             style="border-color:#424f63">
                                                                            <div class="panel-heading"
                                                                                 style="background-color: #424f63">
                                                                                <h4 class="panel-title"
                                                                                    style="color:white">
                                                                                    <a class="accordion-toggle"
                                                                                       data-parent="#accordion2">
                                                                                        {{htmlJson.Authorship}}
                                                                                    </a>
                                                                                </h4>
                                                                            </div>
                                                                            <div id="provider_body"
                                                                                 class="panel-collapse collapse in"
                                                                                 style="height: auto;">
                                                                                <div class="panel-body providers"
                                                                                     style="border-top: #424f63; padding:0px">
                                                                                    <div class='panel panel-primary'>
                                                                                        <div class='panel-heading info-head newAuthorHeader'>
                                                                                            <h4 class='panel-title'>
                                                                                                <a class='accordion-toggle collapsed'
                                                                                                   style="color:white"
                                                                                                   data-toggle='collapse'
                                                                                                   data-target='#user1'
                                                                                                   href="javascript:;">
                                                                                                    {{htmlJson.authorshipPart.NEW}}
                                                                                                </a>
                                                                                            </h4>
                                                                                            <a href="javascript:;"
                                                                                               class="fa fa-times author_close"
                                                                                               style="float:right;margin-top:8px;color:white"></a>
                                                                                        </div>
                                                                                        <div id='user1'
                                                                                             class='panel-collapse collapse in'>
                                                                                            <div class='panel-body user-contents'>
                                                                                                <div class='user-attr'>
                                                                                                    <div>
                                                                                                        <lable class='control-label col-sm-2 text-center'
                                                                                                               style='font-weight: bold;'>
                                                                                                            {{htmlJson.Name}}:
                                                                                                        </lable>
                                                                                                        <div class='input-group col-sm-10'>
                                                                                                            <input type='text'
                                                                                                                   name="name"
                                                                                                                   class='form-control'>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div style="margin-top:10px">
                                                                                                        <lable class='control-label col-sm-2 text-center'
                                                                                                               style='font-weight: bold;'>
                                                                                                            {{htmlJson.authorshipPart.Affiliation}}:
                                                                                                        </lable>
                                                                                                        <div class='input-group col-sm-10'>
                                                                                                            <input type='text'
                                                                                                                   name="ins"
                                                                                                                   class='form-control'>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div style="margin-top:10px">
                                                                                                        <lable class='control-label col-sm-2 text-center'
                                                                                                               style='font-weight: bold;'>
                                                                                                            {{htmlJson.authorshipPart.Email}}:
                                                                                                        </lable>
                                                                                                        <div class='input-group col-sm-10'>
                                                                                                            <input type='text'
                                                                                                                   name="email"
                                                                                                                   class='form-control'>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div style="margin-top:10px">
                                                                                                        <lable class='control-label col-sm-2 text-center'
                                                                                                               style='font-weight: bold;'>
                                                                                                            {{htmlJson.authorshipPart.Homepage}}:
                                                                                                        </lable>
                                                                                                        <div class='input-group col-sm-10'>
                                                                                                            <input type='text'
                                                                                                                   name="homepage"
                                                                                                                   class='form-control'>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <button type="button"
                                                                                        class="btn btn-success btn-lg btn-block user-add"
                                                                                        style="border-radius: 3px;border-top-left-radius: 0px;border-top-right-radius: 0px">
                                                                                    {{htmlJson.authorshipPart.Add}}
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="step-footer text-right">
                                                    <!--                                                    <button class="btn btn-danger prev" @click="cancelEditClick()" style="">-->
                                                    <!--                                                        Exit and save draft-->
                                                    <!--                                                    </button>-->
                                                    <button class="btn btn-danger prev" @click="cancelEditClick()"
                                                            style="">
                                                        {{htmlJson.Exit}}
                                                    </button>
                                                    <div class="innerBorderCol btn btn-warning"
                                                         style="padding: 0;margin: 0 10px;height: 20px;background-color: #cccccc !important;cursor: auto"></div>
                                                    <button class="btn btn-warning prev" data-direction="prev">
                                                        {{htmlJson.Previous}}
                                                    </button>
                                                    <button class="btn btn-primary next" data-direction="next">{{htmlJson.Next}}
                                                    </button>
                                                    <button v-if="editType=='modify'" @click="submitEdit"
                                                            class="btn btn-success " data-direction="next">
                                                        {{htmlJson.SubmitEdit}}
                                                    </button>
                                                    <button v-show="editType=='create'" class="btn btn-success finish"
                                                            data-direction="finish">
                                                        {{htmlJson.Finish}}
                                                    </button>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="uploading" style="display: none;">
                                            <h3 class="text-center">Uploading ...</h3>
                                            <div class="progress progress-striped active progress-sm">

                                                <div style="width: 100%" aria-valuemax="100" aria-valuemin="0"
                                                     aria-valuenow="100" role="progressbar"
                                                     class="progress-bar progress-bar-success">
                                                    <span class="sr-only"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <el-dialog :visible.sync="bindModelItemDialogVisible" :title="htmlJson.BindModelItem" width="50%"
                           top="40px">


                    <el-input :placeholder="htmlJson.BindModelItemPlaceholder" v-model="pageOption.searchText" class="input-with-select"
                              @keyup.enter.native="searchModelItem()">
                        <el-button slot="append" icon="el-icon-search" @click="searchModelItem()"></el-button>
                    </el-input>
                    <el-table
                            :data="pageOption.searchResult"
                            style="margin-top:17px;"
                    >
                        <el-table-column type="expand">
                            <template slot-scope="props">
                                <el-form label-position="left" inline class="demo-table-expand">
                                    <el-form-item label="Overview">
                                        <span>{{ props.row.description }}</span>
                                    </el-form-item>

                                </el-form>
                            </template>
                        </el-table-column>
                        <el-table-column
                                :label="htmlJson.Name">
                            <template slot-scope="props">
                                <a :href="'/modelItem/'+props.row.oid" target="_blank">{{props.row.name}}</a>
                            </template>
                        </el-table-column>
                        <el-table-column :label="htmlJson.Contributor">
                            <template slot-scope="props">
                                <a :href="'/profile/'+props.row.author_name"
                                   target="_blank">{{props.row.author_name}}</a>
                            </template>
                        </el-table-column>
                        <el-table-column fixed="right" :label="htmlJson.references.Operation" width="100">
                            <template slot-scope="scope">
                                <el-button
                                        size="mini"
                                        type="success"
                                        @click="selectModelItem(scope.$index, scope.row)">{{htmlJson.Choose}}
                                </el-button>

                            </template>
                        </el-table-column>
                    </el-table>
                    <el-pagination style="text-align: center;margin-top:20px"
                                   @current-change="handlePageChange"
                                   :current-page="pageOption.currentPage"
                                   layout="total, prev, pager, next, jumper"
                                   :page-size="6"
                                   :total="pageOption.total">
                    </el-pagination>

                </el-dialog>

                <el-dialog :visible.sync="exisedServiceDialog" title="Existed services" center width="50%">
                    <p style="text-align: center">There exist computable models of this md5 on OpenGMS platform, do you
                        still want to add a new one?</p>
                    <div class="wzhScrollbar" style="max-height: 500px;">
                        <el-table style="padding-left:10px "
                                  :data="exisedServices">
                            <el-table-column
                                    label="Name"
                            >
                                <template slot-scope="scope">
                                    <a class="cursorPointer" @click="window.open('/computableModel/'+scope.row.oid)">{{scope.row.name}}</a>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    label="Contributor"
                            >
                                <template slot-scope="scope">
                                    <a class="cursorPointer" @click="window.open('/profile/'+scope.row.author_name)">{{scope.row.author_name}}</a>
                                </template>
                            </el-table-column>
                            <el-table-column
                                    label="Last modify time"
                            >
                                <template slot-scope="scope">
                                    <span>{{formatDate(scope.row.lastModifyTime)}}</span>
                                </template>
                            </el-table-column>
                        </el-table>

                    </div>

                    <span slot="footer" class="dialog-footer">
                            <el-button style="float: right" size="small" @click="cancelMd5">Cancel</el-button>
                            <el-button style="float: right;margin-right: 5px" size="small" type="primary"
                                       @click="addMd5">Yes, add new one</el-button>
                    </span>
                </el-dialog>

                <el-dialog
                        title="Data Select"
                        :visible.sync="dataDialogVisible"
                        width="80%"
                        :before-close="handleClose">
                    <user-data @com-selectfile="selectDataspaceFile" ref="userDataSpace" style="height: 505px;"></user-data>
                    <span slot="footer" class="dialog-footer">
                      <el-button @click="dataDialogVisible = false">Cancel</el-button>
                      <el-button type="primary" @click="dataDialogVisible = false">Confirm</el-button>
                    </span>
                </el-dialog>
            </div>

        </template>

    </div>
</div>
<template th:replace="modules/userDataSpaceModule :: userDataSpaceModule"></template>
</body>

<script src="/static/js/common/jquery-3.3.1.min.js"></script>
<script src="/static/js/common/vue.min.js"></script>
<script src="/static/element-ui/index.js"></script>
<script type="text/javascript" src="/static/js/tinymce/tinymce.min.js"></script>
<script type="text/javascript" src="/static/jquery-ui-1.12.1/jquery-ui.min.js"></script>
<script type="text/javascript" src="/static/iCheck/jquery.icheck.min.js"></script>
<script type="text/javascript" src="/static/js/common/jquery-steps.js"></script>
<script src="/static/js/common/bootstrap.min.js"></script>
<script src="/static/js/common/axios.min.js"></script>
<script src="/static/js/common/vue-router.js"></script>

<script th:replace="fragments/newSideBar :: headSideBar"></script>
<script th:replace="fragments/newSideBar :: sideBarComponent"></script>

<script src="/static/js/page/create-computable-model.js"></script>
<!--<script src="/static/js/modules/userDataSpaceModule.js"></script>-->

</html>